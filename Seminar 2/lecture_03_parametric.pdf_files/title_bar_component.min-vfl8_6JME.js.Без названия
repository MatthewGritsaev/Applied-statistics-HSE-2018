define(["require","exports","tslib","esignature_prototype/data/selectors","external/react","external/react-redux","modules/clean/filepath","modules/clean/react/css_timing","modules/clean/file_store/utils","spectrum/file_icon","modules/clean/react/title_bar/base","modules/clean/react/file_viewer/title_bar/controls","modules/clean/react/file_viewer/title_bar/title","modules/clean/react/file_viewer/title_bar/title_breadcrumb","modules/constants/python","modules/core/i18n","external/classnames"],function(e,i,s,t,n,o,r,l,a,d,c,u,p,f,m,g,h){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var S=(function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.isSharedFile=function(){return!!i.props.sharedLinkInfo},i.isMountedFile=function(){return!i.isSharedFile()},i.closeButtonTitle=function(){if(i.isMountedFile()){var e=void 0;if(i.props.isVersionHistoryMode)e=g._("Version history");else if(i.props.fileViewOrigin===m.FileViewOriginType.RECENTS)e=g._("Recents");else if(i.props.fileViewOrigin===m.FileViewOriginType.HOME)e=g._("Home");else{if(i.props.fileViewOrigin===m.FileViewOriginType.PHOTOS||i.props.fileViewAction===m.FileViewActionType.SEARCH)return g._("Close");var s=i.props.file;a.isBrowseFile(s)&&s.fq_path&&(e=r.filename(r.parent_dir(s.fq_path)))}if(e)return g._("Back to %(folder)s").format({folder:e})}return g._("Close")},i}return s.__extends(i,e),i.prototype.componentDidMount=function(){var e=this.props.onMount;e&&e()},i.prototype.render=function(){var e=this.props,i=e.canClose,s=e.canRestoreRevision,t=e.closeUrl,o=e.file,r=e.fileSubpath,l=e.hidePageChrome,m=e.isSeenStatesEnabled,g=e.isVersionHistoryMode,S=e.isViewingFileSubpath,F=e.maxFilenameEmLength,_=e.onClose,M=e.onRestoreRevision,C=e.sharedLinkInfo,v=e.sharePermission,b=e.shareToken,y=e.sizeClass,w=e.user,V=e.isSigningMode,T=e.isSendForSignatureMode,E=e.areAllFieldsCompleted,R=C?C.ownerTeamLogo:void 0,k=l?n.createElement("div",{className:"file-icon"},n.createElement(d.FileIcon,{path:a.getFilename(o)})):null,A=!(!v||0!==v.canViewMetadataRoles.length);return n.createElement(c.TitleBarBase,{canClose:i&&!l,className:h({"esignature-title-bar":T||V,"esignature-title-bar-complete":E}),closeTitle:this.closeButtonTitle(),customLogoUrl:R,file:o,isSigningMode:V,isSendForSignatureMode:T,areAllFieldsCompleted:E,closeUrl:t,onClose:_,overrideIcon:k,shouldShowIcon:!S,sizeClass:y,title:E?void 0:S?n.createElement(f.TitleBreadcrumb,{file:o,fileSubpath:r,sizeClass:y}):n.createElement(p.Title,{file:o,maxFilenameEmLength:F,sharedLinkInfo:C,shouldDisplayStarred:!l,shouldDisplayMetadata:!l,sizeClass:y,user:w}),controls:[l||V||T?null:n.createElement(u.SeenStates,{key:"seen-states",file:o,isSeenStatesEnabled:m,isVersionHistoryMode:g,isViewingFileSubpath:S,isViewMetadataDisabled:A,sharedLinkInfo:C,user:w,sizeClass:y}),l?null:n.createElement(u.FileActions,{key:"file-actions",canRestoreRevision:s,file:o,isSharedFile:this.isSharedFile(),isVersionHistoryMode:g,onRestoreRevision:M,sharedLinkInfo:C,sharePermission:v,shareToken:b,shouldDisplayActionButtons:!S,sizeClass:y,user:w,isSigningMode:V,isSendForSignatureMode:T})]})},i.defaultProps={canClose:!1,canRestoreRevision:!1,isSeenStatesEnabled:!0,isVersionHistoryMode:!1,isSendForSignatureMode:!1,isSigningMode:!1},i})(n.Component);i._TitleBar=S;var F=function(e){return{isSendForSignatureMode:t.getIsSendForSignatureMode(e),isSigningMode:t.getIsSigningMode(e),areAllFieldsCompleted:t.getAreAllFieldsCompleted(e)}},_=o.connect(F,void 0)(S),M=l.requireCssWithComponent(_,["/static/css/react_title_bar-vflncrwNx.css"]);i.TitleBar=M});
//# sourceMappingURL=title_bar_component.min.js-vflgseBW4.map